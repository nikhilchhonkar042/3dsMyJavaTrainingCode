<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Login here</title>
    <link rel="stylesheet" href="Login3.css">
</head>
<body>
    <h1>My Airlines</h1>
    <hr>
    <h2>Register Here</h2>
    <form action="Login4.html" onsubmit="return validateForm()">
        <table style="margin-right: auto; margin-left: auto">
            <tr>
                <td>
                    <label>Enter email</label>
                </td>
                <td>
                    <input type="text" name="email" id="email">
                </td>
            </tr>
            <tr>
                <td>
                    <label>Enter birthdate</label>
                </td>
                <td>
                    <input type="date" name="birthdate" id="birthdate">
                </td>
            </tr>
            <tr>
                <td>
                    <label>Enter username (min 8 characters)</label>
                </td>
                <td>
                    <input type="text" name="username" id="username">
                </td>
            </tr>
            <tr>
                <td>
                    <label>Enter password (at least 8 characters, containing uppercase, lowercase, digits, and symbols)</label>
                </td>
                <td>
                    <input type="password" name="password" id="password">
                </td>
            </tr>
            <tr>
                <td>Already Registered? Click <a href="Login4.html">Here</a></td>
            </tr>
            <tr>
                <td>
                    <button type="submit">Register</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button style="background-color: red" type="button" onclick="clearForm()">Clear</button>
                </td>
            </tr>
        </table>
    </form>

    <script>
        function validateForm() {
            var email = document.getElementById('email').value;
            var birthdate = document.getElementById('birthdate').value;
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            // Check email format: min 8 characters, then some symbol, then an integer
            var emailPattern = /^.{8,}@([A-Za-z0-9.-]+)\..*\d+$/;
            if (!emailPattern.test(email)) {
                alert("Invalid email format! Please enter a valid email address.");
                return false;
            }

            // Check username length: minimum 8 characters
            if (username.length < 8) {
                alert("Username must be at least 8 characters long.");
                return false;
            }

            // Check password format: at least 8 characters, containing uppercase, lowercase, digits, and symbols
            var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            if (!passwordPattern.test(password)) {
                alert("Invalid password format! Password must be at least 8 characters long and contain uppercase, lowercase, digits, and symbols.");
                return false;
            }

            // Check age: minimum 18 years old
            var today = new Date();
            var birthdateObj = new Date(birthdate);
            var ageInMilliseconds = today - birthdateObj;
            var ageInYears = ageInMilliseconds / (1000 * 60 * 60 * 24 * 365);
            if (ageInYears < 18) {
                alert("You must be at least 18 years old to register.");
                return false;
            }

            return true;
        }

        function clearForm() {
            document.getElementById('email').value = '';
            document.getElementById('birthdate').value = '';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }
    </script>
</body>
</html>
